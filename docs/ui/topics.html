<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è¯é¢˜æ¨¡å¼ - å¼€å£é¸­</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      /* é€‚é…iframeå±•ç¤ºçš„è®¾è®¡é£æ ¼ */
      body {
        width: 375px;
        height: 812px;
        overflow: hidden;
        background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);
      }

      .scroll-container {
        overflow-y: auto;
        scrollbar-width: none;
        -ms-overflow-style: none;
      }
      .scroll-container::-webkit-scrollbar {
        display: none;
      }

      /* ç°ä»£å¡ç‰‡è®¾è®¡ */
      .topic-card {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .topic-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
        pointer-events: none;
      }

      .topic-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        background: rgba(255, 255, 255, 0.9);
      }

      .topic-card:active {
        transform: translateY(-2px) scale(0.98);
      }

      /* æ¸å˜èƒŒæ™¯ */
      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .gradient-green {
        background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      }

      .gradient-orange {
        background: linear-gradient(135deg, #ff6b6b 0%, #ffa726 100%);
      }

      .gradient-blue {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      }

      .gradient-purple {
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      }

      /* åŠ¨ç”»æ•ˆæœ */
      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-slide-up {
        animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* çŠ¶æ€æ ä¼˜åŒ– */
      .status-bar {
        background: linear-gradient(180deg, rgba(0, 0, 0, 0.03) 0%, transparent 100%);
        backdrop-filter: blur(20px);
      }
    </style>
  </head>
  <body class="relative">
    <script src="auth.js"></script>

    <!-- iOSçŠ¶æ€æ  -->
    <div class="status-bar h-11 flex items-center justify-between px-4 text-sm font-semibold text-gray-800">
          <div class="flex items-center space-x-1">
            <span>9:41</span>
          </div>
          <div class="w-16 h-4 bg-black rounded-full relative">
            <div class="absolute right-0.5 top-0.5 w-1 h-1 bg-white rounded-full"></div>
            <div class="absolute right-1 top-1 w-0.5 h-0.5 bg-white rounded-full"></div>
          </div>
          <div class="flex items-center space-x-1 text-gray-800">
            <i class="fas fa-signal text-xs"></i>
            <i class="fas fa-wifi text-xs"></i>
            <i class="fas fa-battery-three-quarters text-xs"></i>
          </div>
        </div>

    <!-- å¯¼èˆªæ  -->
    <div class="gradient-green text-white px-4 py-3 flex items-center shadow-lg">
      <button class="mr-3 p-2 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors">
        <i class="fas fa-arrow-left text-lg"></i>
      </button>
      <h2 class="text-lg font-bold flex-1">è¯é¢˜æ¨¡å¼</h2>
      <button class="bg-white bg-opacity-20 p-2 rounded-xl hover:bg-opacity-30 transition-colors" onclick="showProgressModal()">
        <i class="fas fa-chart-bar text-lg"></i>
      </button>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="px-4 pt-4 pb-20 scroll-container animate-slide-up" style="height: calc(812px - 88px - 60px);">
      <!-- æ ‡é¢˜æè¿° -->
      <div class="mb-6">
        <h3 class="text-xl font-bold text-gray-800 mb-2">æ¢ç´¢è¯é¢˜</h3>
        <p class="text-gray-600 text-sm leading-relaxed">é€‰æ‹©æ„Ÿå…´è¶£çš„è¯é¢˜ï¼Œå¼€å§‹ä½ çš„è‹±è¯­å¯¹è¯ä¹‹æ—…</p>
      </div>

      <!-- è‡ªå®šä¹‰è¯é¢˜ -->
      <div class="topic-card rounded-2xl p-4 mb-6 shadow-xl">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center space-x-3">
            <div class="w-10 h-10 gradient-bg rounded-xl flex items-center justify-center">
              <i class="fas fa-star text-white text-lg"></i>
            </div>
            <div>
              <h4 class="text-lg font-bold text-gray-800">æˆ‘çš„è¯é¢˜</h4>
              <p class="text-gray-600 text-xs">ä¸ªæ€§åŒ–å®šåˆ¶å†…å®¹</p>
            </div>
          </div>
          <button
            class="gradient-green text-white px-3 py-2 rounded-xl text-xs font-semibold shadow-lg hover:shadow-xl transition-all"
            onclick="checkAddTopicPermission()"
          >
            <i class="fas fa-plus mr-1"></i>åˆ›å»º
          </button>
        </div>

        <div class="space-y-3" id="customTopics">
          <!-- è‡ªå®šä¹‰è¯é¢˜åˆ—è¡¨ -->
          <div
            class="flex items-center justify-between p-3 bg-white bg-opacity-70 rounded-xl border border-white border-opacity-50 cursor-pointer hover:bg-opacity-90 transition-all hover:scale-105 shadow-md"
            onclick="enterCustomTopic('æ¸¸æˆäº¤æµ', 'fas fa-gamepad')"
          >
            <div class="flex items-center space-x-3">
              <div class="w-12 h-12 gradient-blue rounded-xl flex items-center justify-center shadow-lg">
                <i class="fas fa-gamepad text-white text-lg"></i>
              </div>
              <div>
                <div class="font-bold text-gray-800 text-sm">æ¸¸æˆäº¤æµ</div>
                <div class="text-gray-600 text-xs">3ä¸ªå¯¹è¯ â€¢ å·²ç»ƒä¹ 2æ¬¡</div>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <button
                class="w-7 h-7 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center hover:bg-blue-200 transition-colors"
                onclick="event.stopPropagation(); editTopic('custom_game')"
              >
                <i class="fas fa-edit text-xs"></i>
              </button>
              <button
                class="w-7 h-7 bg-red-100 text-red-600 rounded-lg flex items-center justify-center hover:bg-red-200 transition-colors"
                onclick="event.stopPropagation(); deleteTopic('custom_game')"
              >
                <i class="fas fa-trash text-xs"></i>
              </button>
            </div>
          </div>

          <div
            class="flex items-center justify-between p-3 bg-white bg-opacity-70 rounded-xl border border-white border-opacity-50 cursor-pointer hover:bg-opacity-90 transition-all hover:scale-105 shadow-md"
            onclick="enterCustomTopic('éŸ³ä¹åˆ†äº«', 'fas fa-music')"
          >
            <div class="flex items-center space-x-3">
              <div class="w-12 h-12 gradient-purple rounded-xl flex items-center justify-center shadow-lg">
                <i class="fas fa-music text-white text-lg"></i>
              </div>
              <div>
                <div class="font-bold text-gray-800 text-sm">éŸ³ä¹åˆ†äº«</div>
                <div class="text-gray-600 text-xs">2ä¸ªå¯¹è¯ â€¢ å·²ç»ƒä¹ 1æ¬¡</div>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <button
                class="w-7 h-7 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center hover:bg-purple-200 transition-colors"
                onclick="event.stopPropagation(); editTopic('custom_music')"
              >
                <i class="fas fa-edit text-xs"></i>
              </button>
              <button
                class="w-7 h-7 bg-red-100 text-red-600 rounded-lg flex items-center justify-center hover:bg-red-200 transition-colors"
                onclick="event.stopPropagation(); deleteTopic('custom_music')"
              >
                <i class="fas fa-trash text-xs"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- çƒ­é—¨è¯é¢˜ -->
      <div class="mb-6">
        <h4 class="text-lg font-bold text-gray-800 mb-4">ğŸ”¥ çƒ­é—¨è¯é¢˜</h4>
        <div class="grid grid-cols-2 gap-3">
          <!-- å’–å•¡è¯é¢˜ -->
          <div class="topic-card rounded-2xl p-4 text-center hover:scale-105 transition-transform duration-300 cursor-pointer shadow-xl">
            <div class="gradient-orange w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-lg">
              <i class="fas fa-coffee text-white text-2xl"></i>
            </div>
            <h4 class="font-bold text-gray-800 mb-2 text-base">å’–å•¡</h4>
            <p class="text-gray-600 text-xs mb-3 leading-relaxed">ç‚¹å’–å•¡ã€æè¿°å£å‘³åå¥½</p>
            <div class="bg-gradient-to-r from-orange-400 to-orange-500 text-white rounded-xl py-1 px-3">
              <span class="text-xs font-semibold">15ä¸ªå¯¹è¯</span>
            </div>
          </div>

          <!-- æ—…æ¸¸è¯é¢˜ -->
          <div class="topic-card rounded-2xl p-4 text-center hover:scale-105 transition-transform duration-300 cursor-pointer shadow-xl">
            <div class="gradient-blue w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-lg">
              <i class="fas fa-plane text-white text-2xl"></i>
            </div>
            <h4 class="font-bold text-gray-800 mb-2 text-base">æ—…æ¸¸</h4>
            <p class="text-gray-600 text-xs mb-3 leading-relaxed">æœºåœºã€é…’åº—ã€é—®è·¯</p>
            <div class="bg-gradient-to-r from-blue-400 to-blue-500 text-white rounded-xl py-1 px-3">
              <span class="text-xs font-semibold">20ä¸ªå¯¹è¯</span>
            </div>
          </div>

          <!-- å¥èº«è¯é¢˜ -->
          <div class="topic-card rounded-2xl p-4 text-center hover:scale-105 transition-transform duration-300 cursor-pointer shadow-xl">
            <div class="gradient-green w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-lg">
              <i class="fas fa-dumbbell text-white text-2xl"></i>
            </div>
            <h4 class="font-bold text-gray-800 mb-2 text-base">å¥èº«</h4>
            <p class="text-gray-600 text-xs mb-3 leading-relaxed">å¥èº«æˆ¿ã€è¿åŠ¨è®¡åˆ’</p>
            <div class="bg-gradient-to-r from-green-400 to-green-500 text-white rounded-xl py-1 px-3">
              <span class="text-xs font-semibold">12ä¸ªå¯¹è¯</span>
            </div>
          </div>

          <!-- é¤å…è¯é¢˜ -->
          <div class="topic-card rounded-2xl p-4 text-center hover:scale-105 transition-transform duration-300 cursor-pointer shadow-xl">
            <div class="gradient-orange w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-lg">
              <i class="fas fa-utensils text-white text-2xl"></i>
            </div>
            <h4 class="font-bold text-gray-800 mb-2 text-base">é¤å…</h4>
            <p class="text-gray-600 text-xs mb-3 leading-relaxed">ç‚¹é¤ã€æœåŠ¡ã€ä¹°å•</p>
            <div class="bg-gradient-to-r from-red-400 to-red-500 text-white rounded-xl py-1 px-3">
              <span class="text-xs font-semibold">18ä¸ªå¯¹è¯</span>
            </div>
          </div>

          <!-- è´­ç‰©è¯é¢˜ -->
          <div class="topic-card rounded-2xl p-4 text-center hover:scale-105 transition-transform duration-300 cursor-pointer shadow-xl">
            <div class="gradient-purple w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-lg">
              <i class="fas fa-shopping-bag text-white text-2xl"></i>
            </div>
            <h4 class="font-bold text-gray-800 mb-2 text-base">è´­ç‰©</h4>
            <p class="text-gray-600 text-xs mb-3 leading-relaxed">é€‰æ‹©ã€è¯•ç©¿ã€ç ä»·</p>
            <div class="bg-gradient-to-r from-purple-400 to-purple-500 text-white rounded-xl py-1 px-3">
              <span class="text-xs font-semibold">16ä¸ªå¯¹è¯</span>
            </div>
          </div>

          <!-- å·¥ä½œè¯é¢˜ -->
          <div class="topic-card rounded-2xl p-4 text-center hover:scale-105 transition-transform duration-300 cursor-pointer shadow-xl">
            <div class="gradient-bg w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-lg">
              <i class="fas fa-briefcase text-white text-2xl"></i>
            </div>
            <h4 class="font-bold text-gray-800 mb-2 text-base">å·¥ä½œ</h4>
            <p class="text-gray-600 text-xs mb-3 leading-relaxed">é¢è¯•ã€ä¼šè®®ã€åŒäº‹</p>
            <div class="bg-gradient-to-r from-indigo-400 to-indigo-500 text-white rounded-xl py-1 px-3">
              <span class="text-xs font-semibold">22ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>
      </div>



      <!-- åˆ†ç±»è¯é¢˜ -->
      <div class="space-y-4">
        <!-- æ—¥å¸¸äº¤æµ -->
        <div class="topic-card rounded-2xl p-4 shadow-xl">
          <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <span class="text-lg mr-2">ğŸ’¬</span>
            æ—¥å¸¸äº¤æµ
          </h4>
          <div class="grid grid-cols-2 gap-3">
            <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-3 text-center hover:scale-105 transition-transform cursor-pointer">
              <div class="w-12 h-12 gradient-blue rounded-xl flex items-center justify-center mx-auto mb-2 shadow-lg">
                <i class="fas fa-comments text-white text-lg"></i>
              </div>
              <div class="font-bold text-gray-800 text-sm mb-1">é—²èŠ</div>
              <div class="text-gray-600 text-xs">8ä¸ªå¯¹è¯</div>
            </div>
            <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-3 text-center hover:scale-105 transition-transform cursor-pointer">
              <div class="w-12 h-12 gradient-green rounded-xl flex items-center justify-center mx-auto mb-2 shadow-lg">
                <i class="fas fa-phone text-white text-lg"></i>
              </div>
              <div class="font-bold text-gray-800 text-sm mb-1">ç”µè¯</div>
              <div class="text-gray-600 text-xs">6ä¸ªå¯¹è¯</div>
            </div>
          </div>
        </div>

        <!-- æ ¡å›­ç”Ÿæ´» -->
        <div class="topic-card rounded-2xl p-4 shadow-xl">
          <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <span class="text-lg mr-2">ğŸ“</span>
            æ ¡å›­ç”Ÿæ´»
          </h4>
          <div class="grid grid-cols-2 gap-3">
            <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-3 text-center hover:scale-105 transition-transform cursor-pointer">
              <div class="w-12 h-12 gradient-purple rounded-xl flex items-center justify-center mx-auto mb-2 shadow-lg">
                <i class="fas fa-graduation-cap text-white text-lg"></i>
              </div>
              <div class="font-bold text-gray-800 text-sm mb-1">è¯¾å ‚è®¨è®º</div>
              <div class="text-gray-600 text-xs">10ä¸ªå¯¹è¯</div>
            </div>
            <div class="bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-3 text-center hover:scale-105 transition-transform cursor-pointer">
              <div class="w-12 h-12 gradient-orange rounded-xl flex items-center justify-center mx-auto mb-2 shadow-lg">
                <i class="fas fa-users text-white text-lg"></i>
              </div>
              <div class="font-bold text-gray-800 text-sm mb-1">ç¤¾å›¢æ´»åŠ¨</div>
              <div class="text-gray-600 text-xs">7ä¸ªå¯¹è¯</div>
            </div>
          </div>
        </div>
      </div>
        </div>

    </div>

    <!-- åº•éƒ¨å¯¼èˆªæ  -->
    <div class="absolute bottom-0 left-0 right-0 bg-white bg-opacity-90 backdrop-filter backdrop-blur-xl border-t border-gray-200 border-opacity-30">
      <div class="flex justify-around items-center py-2 px-4">
        <div class="flex flex-col items-center py-2 px-3 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer" onclick="window.location.href='home.html'">
          <i class="fas fa-home text-gray-400 text-lg mb-1"></i>
          <span class="text-xs text-gray-500 font-medium">é¦–é¡µ</span>
        </div>
        <div class="flex flex-col items-center py-2 px-3 rounded-xl bg-green-50 transition-colors cursor-pointer">
          <i class="fas fa-comments text-green-500 text-lg mb-1"></i>
          <span class="text-xs text-green-600 font-semibold">è¯é¢˜</span>
        </div>
        <div class="flex flex-col items-center py-2 px-3 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer" onclick="window.location.href='progress.html'">
          <i class="fas fa-chart-line text-gray-400 text-lg mb-1"></i>
          <span class="text-xs text-gray-500 font-medium">è¿›åº¦</span>
        </div>
        <div class="flex flex-col items-center py-2 px-3 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer" onclick="window.location.href='profile.html'">
          <i class="fas fa-user text-gray-400 text-lg mb-1"></i>
          <span class="text-xs text-gray-500 font-medium">æˆ‘çš„</span>
        </div>
      </div>
    </div>

    <!-- æ·»åŠ è¯é¢˜å¼¹çª— -->
    <div
      id="addTopicModal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center transition-opacity duration-300"
    >
      <div
        class="bg-white rounded-2xl p-6 mx-4 w-full max-w-sm transform transition-transform duration-300 scale-95"
        id="modalContent"
      >
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold text-gray-800">æ·»åŠ è‡ªå®šä¹‰è¯é¢˜</h3>
          <button onclick="hideAddTopic()" class="text-gray-400 hover:text-gray-600">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>

        <form id="addTopicForm" class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">è¯é¢˜åç§°</label>
            <input
              type="text"
              id="topicName"
              placeholder="ä¾‹å¦‚ï¼šç”µå½±è®¨è®º"
              class="w-full p-3 border border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">è¯é¢˜æè¿°</label>
            <textarea
              id="topicDescription"
              placeholder="æè¿°è¿™ä¸ªè¯é¢˜çš„å¯¹è¯åœºæ™¯..."
              rows="3"
              class="w-full p-3 border border-gray-300 rounded-lg focus:border-green-500 focus:outline-none resize-none"
            ></textarea>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">é€‰æ‹©å›¾æ ‡</label>
            <div class="grid grid-cols-6 gap-2">
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-gamepad"
              >
                <i class="fas fa-gamepad text-xl text-blue-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-music"
              >
                <i class="fas fa-music text-xl text-purple-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-film"
              >
                <i class="fas fa-film text-xl text-red-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-book"
              >
                <i class="fas fa-book text-xl text-green-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-car"
              >
                <i class="fas fa-car text-xl text-gray-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-home"
              >
                <i class="fas fa-home text-xl text-orange-500"></i>
              </button>
            </div>
          </div>

          <div class="flex space-x-3 pt-4">
            <button
              type="button"
              onclick="hideAddTopic()"
              class="flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium"
            >
              å–æ¶ˆ
            </button>
            <button
              type="submit"
              class="flex-1 bg-green-500 text-white py-3 rounded-lg font-medium"
            >
              åˆ›å»ºè¯é¢˜
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- å­¦ä¹ è¿›åº¦å¼¹çª— -->
    <div
      id="progressModal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center transition-opacity duration-300"
    >
      <div
        class="bg-white rounded-2xl p-6 mx-4 w-full max-w-md max-h-96 overflow-y-auto transform transition-transform duration-300 scale-95"
        id="progressModalContent"
      >
        <div class="flex items-center justify-between mb-6">
          <h3 class="text-lg font-semibold text-gray-800">ğŸ“Š è¯é¢˜å­¦ä¹ è¿›åº¦</h3>
          <button onclick="hideProgressModal()" class="text-gray-400 hover:text-gray-600">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>

        <div class="space-y-4">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-coffee text-orange-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">å’–å•¡è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 8/15 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-orange-500 text-sm font-medium">53%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-orange-500 h-1 rounded-full w-8/15"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-plane text-blue-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">æ—…æ¸¸è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 12/20 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-blue-500 text-sm font-medium">60%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-blue-500 h-1 rounded-full w-3/5"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-dumbbell text-green-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">å¥èº«è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 5/12 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-green-500 text-sm font-medium">42%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-green-500 h-1 rounded-full w-5/12"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-utensils text-red-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">é¤å…è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 14/18 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-red-500 text-sm font-medium">78%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-red-500 h-1 rounded-full w-14/18"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-shopping-bag text-purple-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">è´­ç‰©è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 6/16 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-purple-500 text-sm font-medium">38%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-purple-500 h-1 rounded-full w-6/16"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-briefcase text-indigo-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">å·¥ä½œè¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 18/22 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-indigo-500 text-sm font-medium">82%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-indigo-500 h-1 rounded-full w-18/22"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-user-md text-teal-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">åŒ»é™¢è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 2/14 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-teal-500 text-sm font-medium">14%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-teal-500 h-1 rounded-full w-2/14"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-sun text-yellow-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">å¤©æ°”è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 7/10 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-yellow-500 text-sm font-medium">70%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-yellow-500 h-1 rounded-full w-7/10"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let selectedIcon = 'fas fa-gamepad'

      // æ˜¾ç¤ºæ·»åŠ è¯é¢˜å¼¹çª—
      function showAddTopic() {
        const modal = document.getElementById('addTopicModal')
        const modalContent = document.getElementById('modalContent')
        modal.classList.remove('hidden')

        // æ·»åŠ åŠ¨ç”»æ•ˆæœ
        setTimeout(() => {
          modalContent.classList.remove('scale-95')
          modalContent.classList.add('scale-100')
        }, 10)
      }

      // éšè—æ·»åŠ è¯é¢˜å¼¹çª—
      function hideAddTopic() {
        const modal = document.getElementById('addTopicModal')
        const modalContent = document.getElementById('modalContent')

        modalContent.classList.remove('scale-100')
        modalContent.classList.add('scale-95')

        setTimeout(() => {
          modal.classList.add('hidden')
          document.getElementById('addTopicForm').reset()
          // é‡ç½®å›¾æ ‡é€‰æ‹©
          document.querySelectorAll('.icon-option').forEach((btn) => {
            btn.classList.remove('border-green-500', 'bg-green-50')
            btn.classList.add('border-gray-300')
          })
          selectedIcon = 'fas fa-gamepad'
        }, 300)
      }

      // å›¾æ ‡é€‰æ‹©
      document.querySelectorAll('.icon-option').forEach((button) => {
        button.addEventListener('click', function () {
          document.querySelectorAll('.icon-option').forEach((btn) => {
            btn.classList.remove('border-green-500', 'bg-green-50')
            btn.classList.add('border-gray-300')
          })
          this.classList.remove('border-gray-300')
          this.classList.add('border-green-500', 'bg-green-50')
          selectedIcon = this.dataset.icon
        })
      })

      // è¡¨å•æäº¤
      document.getElementById('addTopicForm').addEventListener('submit', function (e) {
        e.preventDefault()

        const topicName = document.getElementById('topicName').value
        const topicDescription = document.getElementById('topicDescription').value

        if (!topicName.trim()) {
          alert('è¯·è¾“å…¥è¯é¢˜åç§°')
          return
        }

        // åˆ›å»ºæ–°è¯é¢˜
        addCustomTopic(topicName, topicDescription, selectedIcon)
        hideAddTopic()

        // æ˜¾ç¤ºæˆåŠŸæç¤º
        showSuccessMessage('è¯é¢˜åˆ›å»ºæˆåŠŸï¼')
      })

      // æ·»åŠ è‡ªå®šä¹‰è¯é¢˜
      function addCustomTopic(name, description, icon) {
        const customTopicsContainer = document.getElementById('customTopics')
        const topicId = 'topic_' + Date.now()

        const topicHtml = `
                <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200 cursor-pointer hover:bg-blue-100 transition-colors" id="${topicId}" onclick="enterCustomTopic('${name}', '${icon}')">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i class="${icon} text-blue-500"></i>
                        </div>
                        <div>
                            <div class="font-medium text-gray-800 text-sm">${name}</div>
                            <div class="text-gray-500 text-xs">è‡ªå®šä¹‰è¯é¢˜ â€¢ 0ä¸ªå¯¹è¯</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button class="text-blue-500 text-xs" onclick="event.stopPropagation(); editTopic('${topicId}')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-500 text-xs" onclick="event.stopPropagation(); deleteTopic('${topicId}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `

        customTopicsContainer.insertAdjacentHTML('afterbegin', topicHtml)
      }

      // ç¼–è¾‘è¯é¢˜
      function editTopic(topicId) {
        // è¿™é‡Œå¯ä»¥å®ç°ç¼–è¾‘åŠŸèƒ½
        alert('ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­...')
      }

      // åˆ é™¤è¯é¢˜
      function deleteTopic(topicId) {
        if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè¯é¢˜å—ï¼Ÿ')) {
          document.getElementById(topicId).remove()
        }
      }

      // æ£€æŸ¥æ·»åŠ è¯é¢˜æƒé™
      function checkAddTopicPermission() {
        if (isMember()) {
          showAddTopic()
        } else {
          showMembershipPrompt('æ·»åŠ è‡ªå®šä¹‰è¯é¢˜æ˜¯ä¼šå‘˜ä¸“å±åŠŸèƒ½ï¼Œå¼€é€šä¼šå‘˜å³å¯æ— é™åˆ›å»ºä¸ªäººè¯é¢˜ã€‚')
        }
      }

      // æ˜¾ç¤ºæˆåŠŸæç¤º
      function showSuccessMessage(message) {
        const toast = document.createElement('div')
        toast.className =
          'fixed top-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50'
        toast.textContent = message
        document.body.appendChild(toast)

        setTimeout(() => {
          toast.remove()
        }, 2000)
      }

      // æ˜¾ç¤ºå­¦ä¹ è¿›åº¦å¼¹çª—
      function showProgressModal() {
        const modal = document.getElementById('progressModal')
        const modalContent = document.getElementById('progressModalContent')
        modal.classList.remove('hidden')

        // æ·»åŠ åŠ¨ç”»æ•ˆæœ
        setTimeout(() => {
          modalContent.classList.remove('scale-95')
          modalContent.classList.add('scale-100')
        }, 10)
      }

      // éšè—å­¦ä¹ è¿›åº¦å¼¹çª—
      function hideProgressModal() {
        const modal = document.getElementById('progressModal')
        const modalContent = document.getElementById('progressModalContent')

        modalContent.classList.remove('scale-100')
        modalContent.classList.add('scale-95')

        setTimeout(() => {
          modal.classList.add('hidden')
        }, 300)
      }

      // è¿›å…¥è‡ªå®šä¹‰è¯é¢˜
      function enterCustomTopic(topicName, icon) {
        // è¿™é‡Œå¯ä»¥å®ç°è¿›å…¥è¯é¢˜åŠŸèƒ½
        window.location.href = `topic-chat.html?topic=${encodeURIComponent(topicName)}&icon=${encodeURIComponent(icon)}`
      }
    </script>
  </body>
</html>
