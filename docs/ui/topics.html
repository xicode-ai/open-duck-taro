<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è¯é¢˜æ¨¡å¼ - å¼€å£é¸­</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      .scroll-container {
        overflow-y: auto;
        scrollbar-width: thin;
        scrollbar-color: #cbd5e0 #f7fafc;
      }
      .scroll-container::-webkit-scrollbar {
        width: 4px;
      }
      .scroll-container::-webkit-scrollbar-track {
        background: #f7fafc;
      }
      .scroll-container::-webkit-scrollbar-thumb {
        background: #cbd5e0;
        border-radius: 2px;
      }
    </style>
  </head>
  <body class="bg-gray-50 h-screen overflow-hidden">
    <script src="auth.js"></script>
    <!-- iOSçŠ¶æ€æ  -->
    <div class="bg-white h-11 flex items-center justify-between px-4 text-sm font-medium">
      <div class="flex items-center space-x-1">
        <span>9:41</span>
      </div>
      <div class="w-16 h-4 bg-black rounded-full relative">
        <div class="absolute right-0 top-0 w-1 h-1 bg-white rounded-full m-1"></div>
      </div>
      <div class="flex items-center space-x-1">
        <i class="fas fa-signal text-xs"></i>
        <i class="fas fa-wifi text-xs"></i>
        <i class="fas fa-battery-three-quarters text-xs"></i>
      </div>
    </div>

    <!-- å¯¼èˆªæ  -->
    <div class="bg-green-500 text-white px-4 py-3 flex items-center">
      <i class="fas fa-arrow-left text-xl mr-4"></i>
      <h2 class="text-lg font-semibold flex-1">è¯é¢˜æ¨¡å¼</h2>
      <button class="bg-white bg-opacity-20 p-2 rounded-lg" onclick="showAddTopic()">
        <i class="fas fa-plus text-xl"></i>
      </button>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="px-4 pt-6 pb-20 h-full scroll-container">
      <!-- æ ‡é¢˜æè¿° -->
      <div class="mb-6">
        <h3 class="text-xl font-bold text-gray-800 mb-2">é€‰æ‹©ä¸€ä¸ªè¯é¢˜å¼€å§‹ç»ƒä¹ </h3>
        <p class="text-gray-600 text-sm">æ¯ä¸ªè¯é¢˜éƒ½åŒ…å«ç›¸å…³çš„æ—¥å¸¸å¯¹è¯åœºæ™¯</p>
      </div>

      <!-- è¯é¢˜ç½‘æ ¼ -->
      <div class="grid grid-cols-2 gap-4">
        <!-- å’–å•¡è¯é¢˜ -->
        <div
          class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <div class="text-center">
            <div
              class="w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-3"
            >
              <i class="fas fa-coffee text-orange-500 text-2xl"></i>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">å’–å•¡</h4>
            <p class="text-xs text-gray-500 mb-3">ç‚¹å’–å•¡ã€æè¿°å£å‘³åå¥½</p>
            <div class="bg-orange-50 rounded-lg p-2">
              <span class="text-orange-600 text-xs font-medium">15ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>

        <!-- æ—…æ¸¸è¯é¢˜ -->
        <div
          class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <div class="text-center">
            <div
              class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-3"
            >
              <i class="fas fa-plane text-blue-500 text-2xl"></i>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">æ—…æ¸¸</h4>
            <p class="text-xs text-gray-500 mb-3">æœºåœºã€é…’åº—ã€é—®è·¯</p>
            <div class="bg-blue-50 rounded-lg p-2">
              <span class="text-blue-600 text-xs font-medium">20ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>

        <!-- å¥èº«è¯é¢˜ -->
        <div
          class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <div class="text-center">
            <div
              class="w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-3"
            >
              <i class="fas fa-dumbbell text-green-500 text-2xl"></i>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">å¥èº«</h4>
            <p class="text-xs text-gray-500 mb-3">å¥èº«æˆ¿ã€è¿åŠ¨è®¡åˆ’</p>
            <div class="bg-green-50 rounded-lg p-2">
              <span class="text-green-600 text-xs font-medium">12ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>

        <!-- é¤å…è¯é¢˜ -->
        <div
          class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <div class="text-center">
            <div
              class="w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-3"
            >
              <i class="fas fa-utensils text-red-500 text-2xl"></i>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">é¤å…</h4>
            <p class="text-xs text-gray-500 mb-3">ç‚¹é¤ã€æœåŠ¡ã€ä¹°å•</p>
            <div class="bg-red-50 rounded-lg p-2">
              <span class="text-red-600 text-xs font-medium">18ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>

        <!-- è´­ç‰©è¯é¢˜ -->
        <div
          class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <div class="text-center">
            <div
              class="w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-3"
            >
              <i class="fas fa-shopping-bag text-purple-500 text-2xl"></i>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">è´­ç‰©</h4>
            <p class="text-xs text-gray-500 mb-3">é€‰æ‹©ã€è¯•ç©¿ã€ç ä»·</p>
            <div class="bg-purple-50 rounded-lg p-2">
              <span class="text-purple-600 text-xs font-medium">16ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>

        <!-- å·¥ä½œè¯é¢˜ -->
        <div
          class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <div class="text-center">
            <div
              class="w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-3"
            >
              <i class="fas fa-briefcase text-indigo-500 text-2xl"></i>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">å·¥ä½œ</h4>
            <p class="text-xs text-gray-500 mb-3">é¢è¯•ã€ä¼šè®®ã€åŒäº‹</p>
            <div class="bg-indigo-50 rounded-lg p-2">
              <span class="text-indigo-600 text-xs font-medium">22ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>

        <!-- åŒ»é™¢è¯é¢˜ -->
        <div
          class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <div class="text-center">
            <div
              class="w-16 h-16 bg-teal-100 rounded-2xl flex items-center justify-center mx-auto mb-3"
            >
              <i class="fas fa-user-md text-teal-500 text-2xl"></i>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">åŒ»é™¢</h4>
            <p class="text-xs text-gray-500 mb-3">æŒ‚å·ã€é—®è¯Šã€ä¹°è¯</p>
            <div class="bg-teal-50 rounded-lg p-2">
              <span class="text-teal-600 text-xs font-medium">14ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>

        <!-- å¤©æ°”è¯é¢˜ -->
        <div
          class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <div class="text-center">
            <div
              class="w-16 h-16 bg-yellow-100 rounded-2xl flex items-center justify-center mx-auto mb-3"
            >
              <i class="fas fa-sun text-yellow-500 text-2xl"></i>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">å¤©æ°”</h4>
            <p class="text-xs text-gray-500 mb-3">èŠå¤©ã€è®¡åˆ’ã€æ„Ÿå—</p>
            <div class="bg-yellow-50 rounded-lg p-2">
              <span class="text-yellow-600 text-xs font-medium">10ä¸ªå¯¹è¯</span>
            </div>
          </div>
        </div>
      </div>

      <!-- æ¨èè¯é¢˜ -->
      <div class="mt-8 mb-6">
        <h4 class="text-lg font-semibold text-gray-800 mb-4">ğŸ”¥ çƒ­é—¨è¯é¢˜</h4>
        <div class="bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl p-4 text-white">
          <div class="flex items-center space-x-4">
            <div
              class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center"
            >
              <i class="fas fa-heart text-2xl"></i>
            </div>
            <div class="flex-1">
              <h5 class="font-semibold mb-1">çº¦ä¼šäº¤å‹</h5>
              <p class="text-pink-100 text-sm">æµªæ¼«å¯¹è¯ã€è¡¨è¾¾æƒ…æ„Ÿ</p>
            </div>
            <div class="bg-white bg-opacity-20 rounded-lg px-3 py-1">
              <span class="text-sm font-medium">æ–°</span>
            </div>
          </div>
        </div>
      </div>

      <!-- å­¦ä¹ è¿›åº¦ -->
      <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 mb-6">
        <h4 class="text-lg font-semibold text-gray-800 mb-4">ğŸ“Š è¯é¢˜å­¦ä¹ è¿›åº¦</h4>
        <div class="space-y-3">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-coffee text-orange-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">å’–å•¡è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 8/15 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-orange-500 text-sm font-medium">53%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-orange-500 h-1 rounded-full w-8/15"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-plane text-blue-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">æ—…æ¸¸è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 12/20 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-blue-500 text-sm font-medium">60%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-blue-500 h-1 rounded-full w-3/5"></div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-dumbbell text-green-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">å¥èº«è¯é¢˜</div>
                <div class="text-gray-500 text-xs">å·²å®Œæˆ 5/12 ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-green-500 text-sm font-medium">42%</div>
              <div class="w-16 bg-gray-200 rounded-full h-1 mt-1">
                <div class="bg-green-500 h-1 rounded-full w-5/12"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- å­¦ä¹ å»ºè®® -->
      <div class="bg-gradient-to-r from-green-500 to-blue-500 rounded-2xl p-6 text-white mb-6">
        <h4 class="text-lg font-semibold mb-3">ğŸ’¡ å­¦ä¹ å»ºè®®</h4>
        <p class="text-green-100 text-sm mb-3">
          å»ºè®®å…ˆå®Œæˆå’–å•¡è¯é¢˜ï¼Œå†æŒ‘æˆ˜æ—…æ¸¸è¯é¢˜ã€‚æ¯ä¸ªè¯é¢˜éƒ½æœ‰ä¸åŒçš„éš¾åº¦ç­‰çº§ï¼Œå¾ªåºæ¸è¿›æ•ˆæœæ›´å¥½ï¼
        </p>
        <button class="bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg text-sm">
          å¼€å§‹å­¦ä¹ 
        </button>
      </div>

      <!-- è‡ªå®šä¹‰è¯é¢˜ -->
      <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 mb-6">
        <div class="flex items-center justify-between mb-4">
          <h4 class="text-lg font-semibold text-gray-800">ğŸ¯ æˆ‘çš„è‡ªå®šä¹‰è¯é¢˜</h4>
          <button
            class="bg-green-500 text-white px-3 py-1 rounded-lg text-sm"
            onclick="checkAddTopicPermission()"
          >
            <i class="fas fa-plus mr-1"></i>æ·»åŠ è¯é¢˜
          </button>
        </div>

        <div class="space-y-3" id="customTopics">
          <!-- è‡ªå®šä¹‰è¯é¢˜åˆ—è¡¨ -->
          <div
            class="flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200 cursor-pointer hover:bg-blue-100 transition-colors"
            onclick="enterCustomTopic('æ¸¸æˆäº¤æµ', 'fas fa-gamepad')"
          >
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-gamepad text-blue-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">æ¸¸æˆäº¤æµ</div>
                <div class="text-gray-500 text-xs">è‡ªå®šä¹‰è¯é¢˜ â€¢ 3ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <button
                class="text-blue-500 text-xs"
                onclick="event.stopPropagation(); editTopic('custom_game')"
              >
                <i class="fas fa-edit"></i>
              </button>
              <button
                class="text-red-500 text-xs"
                onclick="event.stopPropagation(); deleteTopic('custom_game')"
              >
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>

          <div
            class="flex items-center justify-between p-3 bg-purple-50 rounded-lg border border-purple-200 cursor-pointer hover:bg-purple-100 transition-colors"
            onclick="enterCustomTopic('éŸ³ä¹åˆ†äº«', 'fas fa-music')"
          >
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                <i class="fas fa-music text-purple-500"></i>
              </div>
              <div>
                <div class="font-medium text-gray-800 text-sm">éŸ³ä¹åˆ†äº«</div>
                <div class="text-gray-500 text-xs">è‡ªå®šä¹‰è¯é¢˜ â€¢ 2ä¸ªå¯¹è¯</div>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <button
                class="text-purple-500 text-xs"
                onclick="event.stopPropagation(); editTopic('custom_music')"
              >
                <i class="fas fa-edit"></i>
              </button>
              <button
                class="text-red-500 text-xs"
                onclick="event.stopPropagation(); deleteTopic('custom_music')"
              >
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- æ·»åŠ è¯é¢˜å¼¹çª— -->
    <div
      id="addTopicModal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center transition-opacity duration-300"
    >
      <div
        class="bg-white rounded-2xl p-6 mx-4 w-full max-w-sm transform transition-transform duration-300 scale-95"
        id="modalContent"
      >
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold text-gray-800">æ·»åŠ è‡ªå®šä¹‰è¯é¢˜</h3>
          <button onclick="hideAddTopic()" class="text-gray-400 hover:text-gray-600">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>

        <form id="addTopicForm" class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">è¯é¢˜åç§°</label>
            <input
              type="text"
              id="topicName"
              placeholder="ä¾‹å¦‚ï¼šç”µå½±è®¨è®º"
              class="w-full p-3 border border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">è¯é¢˜æè¿°</label>
            <textarea
              id="topicDescription"
              placeholder="æè¿°è¿™ä¸ªè¯é¢˜çš„å¯¹è¯åœºæ™¯..."
              rows="3"
              class="w-full p-3 border border-gray-300 rounded-lg focus:border-green-500 focus:outline-none resize-none"
            ></textarea>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">é€‰æ‹©å›¾æ ‡</label>
            <div class="grid grid-cols-6 gap-2">
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-gamepad"
              >
                <i class="fas fa-gamepad text-xl text-blue-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-music"
              >
                <i class="fas fa-music text-xl text-purple-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-film"
              >
                <i class="fas fa-film text-xl text-red-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-book"
              >
                <i class="fas fa-book text-xl text-green-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-car"
              >
                <i class="fas fa-car text-xl text-gray-500"></i>
              </button>
              <button
                type="button"
                class="icon-option p-3 border border-gray-300 rounded-lg hover:border-green-500"
                data-icon="fas fa-home"
              >
                <i class="fas fa-home text-xl text-orange-500"></i>
              </button>
            </div>
          </div>

          <div class="flex space-x-3 pt-4">
            <button
              type="button"
              onclick="hideAddTopic()"
              class="flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium"
            >
              å–æ¶ˆ
            </button>
            <button
              type="submit"
              class="flex-1 bg-green-500 text-white py-3 rounded-lg font-medium"
            >
              åˆ›å»ºè¯é¢˜
            </button>
          </div>
        </form>
      </div>
    </div>

    <script>
      let selectedIcon = 'fas fa-gamepad'

      // æ˜¾ç¤ºæ·»åŠ è¯é¢˜å¼¹çª—
      function showAddTopic() {
        const modal = document.getElementById('addTopicModal')
        const modalContent = document.getElementById('modalContent')
        modal.classList.remove('hidden')

        // æ·»åŠ åŠ¨ç”»æ•ˆæœ
        setTimeout(() => {
          modalContent.classList.remove('scale-95')
          modalContent.classList.add('scale-100')
        }, 10)
      }

      // éšè—æ·»åŠ è¯é¢˜å¼¹çª—
      function hideAddTopic() {
        const modal = document.getElementById('addTopicModal')
        const modalContent = document.getElementById('modalContent')

        modalContent.classList.remove('scale-100')
        modalContent.classList.add('scale-95')

        setTimeout(() => {
          modal.classList.add('hidden')
          document.getElementById('addTopicForm').reset()
          // é‡ç½®å›¾æ ‡é€‰æ‹©
          document.querySelectorAll('.icon-option').forEach((btn) => {
            btn.classList.remove('border-green-500', 'bg-green-50')
            btn.classList.add('border-gray-300')
          })
          selectedIcon = 'fas fa-gamepad'
        }, 300)
      }

      // å›¾æ ‡é€‰æ‹©
      document.querySelectorAll('.icon-option').forEach((button) => {
        button.addEventListener('click', function () {
          document.querySelectorAll('.icon-option').forEach((btn) => {
            btn.classList.remove('border-green-500', 'bg-green-50')
            btn.classList.add('border-gray-300')
          })
          this.classList.remove('border-gray-300')
          this.classList.add('border-green-500', 'bg-green-50')
          selectedIcon = this.dataset.icon
        })
      })

      // è¡¨å•æäº¤
      document.getElementById('addTopicForm').addEventListener('submit', function (e) {
        e.preventDefault()

        const topicName = document.getElementById('topicName').value
        const topicDescription = document.getElementById('topicDescription').value

        if (!topicName.trim()) {
          alert('è¯·è¾“å…¥è¯é¢˜åç§°')
          return
        }

        // åˆ›å»ºæ–°è¯é¢˜
        addCustomTopic(topicName, topicDescription, selectedIcon)
        hideAddTopic()

        // æ˜¾ç¤ºæˆåŠŸæç¤º
        showSuccessMessage('è¯é¢˜åˆ›å»ºæˆåŠŸï¼')
      })

      // æ·»åŠ è‡ªå®šä¹‰è¯é¢˜
      function addCustomTopic(name, description, icon) {
        const customTopicsContainer = document.getElementById('customTopics')
        const topicId = 'topic_' + Date.now()

        const topicHtml = `
                <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200 cursor-pointer hover:bg-blue-100 transition-colors" id="${topicId}" onclick="enterCustomTopic('${name}', '${icon}')">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i class="${icon} text-blue-500"></i>
                        </div>
                        <div>
                            <div class="font-medium text-gray-800 text-sm">${name}</div>
                            <div class="text-gray-500 text-xs">è‡ªå®šä¹‰è¯é¢˜ â€¢ 0ä¸ªå¯¹è¯</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button class="text-blue-500 text-xs" onclick="event.stopPropagation(); editTopic('${topicId}')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-500 text-xs" onclick="event.stopPropagation(); deleteTopic('${topicId}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `

        customTopicsContainer.insertAdjacentHTML('afterbegin', topicHtml)
      }

      // ç¼–è¾‘è¯é¢˜
      function editTopic(topicId) {
        // è¿™é‡Œå¯ä»¥å®ç°ç¼–è¾‘åŠŸèƒ½
        alert('ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­...')
      }

      // åˆ é™¤è¯é¢˜
      function deleteTopic(topicId) {
        if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè¯é¢˜å—ï¼Ÿ')) {
          document.getElementById(topicId).remove()
        }
      }

      // æ£€æŸ¥æ·»åŠ è¯é¢˜æƒé™
      function checkAddTopicPermission() {
        if (isMember()) {
          showAddTopic()
        } else {
          showMembershipPrompt('æ·»åŠ è‡ªå®šä¹‰è¯é¢˜æ˜¯ä¼šå‘˜ä¸“å±åŠŸèƒ½ï¼Œå¼€é€šä¼šå‘˜å³å¯æ— é™åˆ›å»ºä¸ªäººè¯é¢˜ã€‚')
        }
      }

      // æ˜¾ç¤ºæˆåŠŸæç¤º
      function showSuccessMessage(message) {
        const toast = document.createElement('div')
        toast.className =
          'fixed top-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50'
        toast.textContent = message
        document.body.appendChild(toast)

        setTimeout(() => {
          toast.remove()
        }, 2000)
      }
    </script>

    <!-- åº•éƒ¨å¯¼èˆªæ  -->
    <div class="absolute bottom-0 left-0 right-0 bg-white border-t border-gray-200">
      <div class="flex justify-around items-center py-2 px-4">
        <div class="flex flex-col items-center py-2" onclick="window.location.href='home.html'">
          <i class="fas fa-home text-gray-400 text-xl"></i>
          <span class="text-xs text-gray-400 mt-1">é¦–é¡µ</span>
        </div>
        <div class="flex flex-col items-center py-2" onclick="window.location.href='progress.html'">
          <i class="fas fa-chart-line text-gray-400 text-xl"></i>
          <span class="text-xs text-gray-400 mt-1">è¿›åº¦</span>
        </div>
        <div class="flex flex-col items-center py-2" onclick="window.location.href='profile.html'">
          <i class="fas fa-user text-gray-400 text-xl"></i>
          <span class="text-xs text-gray-400 mt-1">æˆ‘çš„</span>
        </div>
      </div>
    </div>
  </body>
</html>
